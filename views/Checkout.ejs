<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    
    <link rel="stylesheet" href="/styles/main.css">
</head>

<h1>Checkout</h1>

<% if (cart.length === 0) { %>
    <p>Your cart is empty! <a href="/Cart">Go back to your cart</a>.</p>
<% } else { %>
    <h2>Your Items</h2>
    <ul>
        <% cart.forEach(item => { %>
            <li>
                <%= item.title %> - $<%= item.price %> x <%= item.quantity %> = $<%= item.price * item.quantity %>
            </li>
        <% }); %>
    </ul>

    <h3>Total: $<%= totalAmount %></h3>

    <form action="/Cart/checkout" method="POST">
        <h3>Enter Shipping Details</h3>
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required /><br>
    
        <label for="address">Shipping Address:</label>
        <input type="text" id="address" name="address" required /><br>
    
        <label for="payment">Payment Method:</label>
        <select id="payment" name="payment" required>
            <option value="credit_card">Credit Card</option>
            <option value="paypal">PayPal</option>
        </select><br>
    
        <button type="submit">Complete Checkout</button>
    </form>
    
<% } %>
